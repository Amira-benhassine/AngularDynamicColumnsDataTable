<div>
  <form [formGroup]="searchForm" class="search__form">

    <mat-form-field class="search__form_field" appearance="outline">
      <mat-label>DP-Identifiant</mat-label>
      <input type="text"
             aria-label="DP-Identifiant"
             matInput
           
             formControlName="id"
             [matAutocomplete]="auto"
      > 


      <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedclientId($event.option.value)" [displayWith]="getOptionText">
      <!--   <mat-option *ngIf="isLoading" class="is-loading"><mat-spinner diameter="50"></mat-spinner></mat-option>
       -->  <ng-container > <mat-option *ngFor="let option of DepProjId | async" [value]="option" >
          {{option}}
        </mat-option> </ng-container>
      </mat-autocomplete>
      <!-- (keyup)="applyFilter()" -->
    </mat-form-field>

    <mat-form-field class="search__form_field" appearance="outline">
      <mat-label>Title</mat-label>
      <input type="text"
             aria-label="Title"
             matInput
             formControlName="title"
             [matAutocomplete]="autotitle"
      >
      <mat-autocomplete class="custom-scroll" #autotitle="matAutocomplete" (optionSelected)="selectedclientTitle($event.option.value)" [displayWith]="getOptionTitle">
        <!--   <mat-option *ngIf="isLoading" class="is-loading"><mat-spinner diameter="50"></mat-spinner></mat-option>
         -->  <ng-container > <mat-option *ngFor="let option of DepProjTitle | async" [value]="option" >
            {{option}}
          </mat-option> </ng-container>
        </mat-autocomplete>
        <!-- (keyup)="applyFilter()" -->
      </mat-form-field>
  
 

    <mat-form-field class="search__form_field" appearance="outline">
      <mat-label>SOP</mat-label>
      <input matInput
             formControlName="SOP"
             aria-label="SOP"
             [matAutocomplete]="autoSop">
             <mat-autocomplete #autoSop="matAutocomplete" (optionSelected)="selectedclientSOP($event.option.value)" [displayWith]="getOptionSOP">
              <!--   <mat-option *ngIf="isLoading" class="is-loading"><mat-spinner diameter="50"></mat-spinner></mat-option>
               -->  <ng-container > <mat-option *ngFor="let option of DepProjSOP | async" [value]="option" >
                  {{option}}
                </mat-option> </ng-container>
              </mat-autocomplete>
    </mat-form-field>
  </form>

  <div class="search__table mat-elevation-z8">
    <table mat-table [dataSource]="dataSource">

      <ng-container matColumnDef="DP_Identifiant">
        <th mat-header-cell *matHeaderCellDef> DP_Identifiant</th>
        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
      </ng-container>

      <ng-container matColumnDef="Title">
        <th mat-header-cell *matHeaderCellDef> Title</th>
        <td mat-cell *matCellDef="let row"> {{row.title}} </td>
      </ng-container>

      <ng-container matColumnDef="SOP">
        <th mat-header-cell *matHeaderCellDef> SOP</th>
        <td mat-cell *matCellDef="let row"> {{row.SOP}} </td>
      </ng-container>

     

     

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>
      
    </table>
    <mat-paginator  [pageSizeOptions]="[5, 10, 20]"[pageIndex]="currentPage"
     [pageSize]="pageSize" (page)="handlePage($event)"showFirstLastButtons="true"
    [length]="15"
    >
    </mat-paginator> 
  </div>

</div>
